<app-env-app-head-selector [title]="applicationSelected?.name" preTitle="Gestion des environnements" (applicationChanged)="applicationChanged($event)"
                           [showEnvironment]="false" [isModarable]="true">
<span header>
  <a id="addEnvAction" href="javascript:void(0)" *ngIf="addEnvironmentEnabled && applicationSelected" style="cursor: pointer"
     class="btn btn-primary mr-3" (click)="onClickAddEnvironment()">
    <ebad-icon name="plus"></ebad-icon>
    Nouvel environnement
  </a>
  <a id="importEnvAction" href="javascript:void(0)" *ngIf="importEnvironmentEnabled && applicationSelected" style="cursor: pointer"
     class="btn btn-primary" (click)="onClickImportEnvironments()">
    <ebad-icon name="download"></ebad-icon>
    Importer les environnements
  </a>
</span>
</app-env-app-head-selector>
<div class="mb-2">
Afficher / Masquer les colonnes :
<div class="btn-group btn-group-toggle">
  <label  *ngFor="let col of columns; index as colNumber" class="btn-sm btn-secondary" ngbButtonLabel>
    <input type="checkbox" ngbButton (click)="toggleVisibility(colNumber)"> {{col.name}}
  </label>
</div>
</div>
<div class="card">
  <div class="table-responsive">
    <table aria-describedby="tableTitle" [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" datatable class="table card-table table-vcenter text-nowrap datatable">
      <thead>
      <tr>
        <th id="envId">
          ID
        </th>
        <th id="envName">
          Nom
        </th>
        <th id="envHost">
          Serveur
        </th>
        <th id="envLogin">
          Login
        </th>
        <th id="envHome">
          Home
        </th>
        <th id="envPrefix">
          Prefix
        </th>
        <th id="actions">
        </th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let env of environments">
        <td class="align-middle" *ngIf="columns[0].visible">
          {{env.id}}
        </td>
        <td class="align-middle"  *ngIf="columns[1].visible">
          {{env.name}}
        </td>
        <td class="align-middle"  *ngIf="columns[2].visible">
          {{env.host}}
        </td>
        <td class="align-middle"  *ngIf="columns[3].visible">
          {{env.login}}
        </td>
        <td class="align-middle"  *ngIf="columns[4].visible">
          {{env.homePath}}
        </td>
        <td class="align-middle"  *ngIf="columns[5].visible">
          {{env.prefix}}
        </td>
        <td class="text-center"  *ngIf="columns[6].visible">
          <a id="actionEdit-{{env.name}}" (click)="editEnvironment(env)" href="javascript:void(0)" class="btn btn-secondary btn-sm">Edit</a>
          <a id="actionDelete-{{env.name}}" (click)="deleteEnvironment(env)" href="javascript:void(0)" class="btn btn-secondary btn-sm">Delete</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

